# Botzone亚马逊棋笔记

## 游戏规则

**棋盘**：

- 由8×8的方格组成，黑方在棋盘上方，白方在棋盘下方。

- 坐标从0开始，先x后y，原点在左上角。

**棋子**：

- 每方有4个棋子，初始位置分别位于：
  - 黑方：(0, 2) , (2, 0) , (5, 0) , (7, 2)
  - 白方：(0, 5) , (2, 7) , (5, 7) , (7, 5)

**行棋规则**：

1. 每个棋子都相当于国际象棋中的皇后，可以在8个方向上任意行走，但不能穿过障碍。
2. 当轮到一方行棋时，此方只能并且**必须**移动4个棋子中的一个，并在移动完成后，**必须**从移动到的位置释放一个障碍，障碍的释放方法同样是“8个方向，但不能穿过障碍”。
3. 当某方完成某次移动后，对方4个棋子均不能再移动时，对方将输掉比赛。
4. 每次开局由位于棋盘上方的玩家（黑方）先手。
5. 整个比赛中双方均不能吃掉对方或己方的棋子或障碍。

## 游戏交互方式

Bot的每次生命周期均为一次输入、一次输出，交互格式为**单行JSON**或**简化交互**。可以参考下图：

 ![BotRunMode Traditional.png](https://wiki.botzone.org.cn/images/5/56/BotRunMode_Traditional.png) 

Bot的程序运行流程应当是：

- 启动程序
- 从平台获取以往的交互内容和最新输入
- 根据获得的交互内容（request + response）进行计算
  - 根据以往自己的输入（request）输出（response）恢复局面到最新状态
  - 根据本次输入（request）给出本次的决策输出
- 输出结果以及保存信息
- 关闭程序

### 资源和时间限制

如果没有特别指出，每次运行，时间限制是**1秒**，内存限制是**256MB**。

每场对局，每个Bot的第一回合时间限制会放宽到原来的两倍。

不同语言的时限：

- C/C++：1倍
- Java：3倍
- C#：6倍
- JavaScript：2倍
- python：6倍
- Pascal：1倍

关于**单行JSON**或**简化交互**的具体细节可以从[这里](https://wiki.botzone.org.cn/index.php?title=Bot#.E4.BA.A4.E4.BA.92)获取。

## 具体交互内容

### 简单交互

本游戏的request行和response行都为如下格式：

```
x0 y0 x1 y1 x2 y2
```

黑方的第一回合的request是：

```
-1 -1 -1 -1 -1 -1
```

-  x0：选择的棋子横坐标
-  y0：选择的棋子纵坐标
-  x1：棋子移动终点横坐标
-  y1：棋子移动终点纵坐标
-  x2：释放的障碍横坐标
-  y2：释放的障碍纵坐标

示例：在 [样例对局](https://www.botzone.org.cn/match/5bd137c30681335cc1f4d093) 的第5回合，黑方得到的输入是：

```
3
-1 -1 -1 -1 -1 -1
5 0 3 2 6 5
0 5 4 5 3 4
0 2 0 3 3 0
2 7 2 5 1 4
```

-  3表示这是自己的第3回合（也就是第3次轮到自己决策；上文的第5回合表示这是全游戏的第5步）。
-  第2、4、6行是对手的决策。
-  第3、5行是自己的决策。

在提交的时候记得勾选“使用简单交互”。